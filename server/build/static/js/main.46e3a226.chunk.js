(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{272:function(e,t,n){},281:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(25),r=n.n(a),i=(n(184),n(170)),o=n(27),s=n(39),l=n.n(s),u=n(55),j=n(40),d=n(288),b=n(89),p=n(8),O=d.a.Title,f=function(){return Object(p.jsx)(b.a,{justify:"center",children:Object(p.jsx)(O,{style:{fontSize:"xxx-large"},children:"Items Collection"})})},x=n(291),h=n(31),m=n(285),v=n(293),y=n(166),g=n.n(y).a.create({baseURL:"http://localhost:4000/api/items"}),k=n(90),C=n(290),w=n(53),I=n(286),T=n(283),S=function(e,t){var n=Object(c.useRef)(!1);Object(c.useEffect)((function(){n.current?e():n.current=!0}),t)},_=n(177),z=n(287),F=n(289),R=function(e){var t=e.item,n=e.handleIsCreating,c=e.handleItemData,a=function(){var e=Object(u.a)(l.a.mark((function e(a){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={title:t.title,description:t.description,data:{key:a.key,value:a.value}},e.next=3,g.put("/".concat(t._id),r);case 3:console.log(r.data),n(!1),c(r.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)(z.a,{name:"basic",onFinish:a,onFinishFailed:function(e){console.log("Failed:",e)},children:[Object(p.jsx)(z.a.Item,{label:"Cl\xe9",name:"key",rules:[{required:!0,message:"Rentrez la cl\xe9 de votre donn\xe9e"}],children:Object(p.jsx)(F.a,{})}),Object(p.jsx)(z.a.Item,{label:"Valeur",name:"value",rules:[{required:!0,message:"Rentrez la valeur de votre donn\xe9e"}],children:Object(p.jsx)(F.a,{})}),Object(p.jsx)(z.a.Item,{children:Object(p.jsx)(h.a,{type:"primary",htmlType:"submit",children:"Cr\xe9er"})})]})},q=d.a.Title,A=d.a.Paragraph,D=function(e){var t=e.item,n=e.visible,a=e.onCancel,r=Object(c.useState)(t.title),i=Object(j.a)(r,2),o=i[0],s=i[1],d=Object(c.useState)(t.description),O=Object(j.a)(d,2),f=O[0],m=O[1],y=Object(c.useState)(t.data),z=Object(j.a)(y,2),F=z[0],D=z[1],E=Object(c.useState)(!1),K=Object(j.a)(E,2),P=K[0],L=K[1];S((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.put("/".concat(t._id),{title:o,description:f,data:Object(k.a)(F)});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[o,f,F]);return Object(p.jsxs)(C.a,{visible:n,footer:null,onCancel:a,children:[Object(p.jsx)(q,{editable:{onChange:s},level:1,children:o}),Object(p.jsx)(A,{editable:{onChange:m,autoSize:{maxRows:5,minRows:3}},children:f}),Object(p.jsxs)("div",{children:[Object(p.jsx)(q,{level:3,style:{display:"inline-block"},children:"Data :"}),Object(p.jsx)(h.a,{icon:Object(p.jsx)(_.a,{style:{color:"#1890ff"}}),shape:"circle",style:{position:"relative",marginLeft:"20px",bottom:"2px"},onClick:function(){return L(!P)}})]}),P&&Object(p.jsx)(R,{item:t,handleIsCreating:function(e){return L(e)},handleItemData:function(e){return D([].concat(Object(k.a)(F),[e]))}}),Object(p.jsx)(b.a,{gutter:[16,16],children:F.map((function(e){return Object(p.jsxs)(w.a,{span:12,children:[Object(p.jsx)(x.a,{placement:"top",title:"Etes-vous certain de vouloir supprimer cette donn\xe9e ?",onConfirm:function(){return function(e){var t=F.findIndex((function(t){return t._id===e}));F.splice(t,1),D(Object(k.a)(F))}(e._id)},okText:"Oui",cancelText:"Non",children:Object(p.jsx)(h.a,{danger:!0,size:"small",shape:"circle",icon:Object(p.jsx)(v.a,{style:{color:"red"}}),style:{position:"relative",left:"214px",top:"14px",zIndex:"1"}})}),Object(p.jsxs)(I.a,{children:[Object(p.jsx)(q,{level:5,children:"Cl\xe9:"}),Object(p.jsx)(A,{editable:{onChange:function(t){return function(e,t){var n=F.findIndex((function(e){return e._id===t}));F[n].key=e,D(Object(k.a)(F))}(t,e._id)}},children:e.key}),Object(p.jsx)(T.a,{}),Object(p.jsx)(q,{level:5,children:"Valeur:"}),Object(p.jsx)(A,{editable:{onChange:function(t){return function(e,t){var n=F.findIndex((function(e){return e._id===t}));F[n].value=e,D(Object(k.a)(F))}(t,e._id)}},children:e.value})]})]},e._id)}))})]})},E=(n(272),function(e){var t=e.items,n=e.deleteHandler,a=e.itemUpdated,r=Object(c.useState)(!1),i=Object(j.a)(r,2),o=i[0],s=i[1],d=Object(c.useState)(null),O=Object(j.a)(d,2),f=O[0],y=O[1],k=[{title:"Titre",dataIndex:"title",key:"title",ellipsis:!0},{title:"Description",dataIndex:"description",key:"description",ellipsis:!0},{title:"Action",key:"delete",render:function(e){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(x.a,{placement:"top",title:"Etes-vous certain de vouloir supprimer cet item ?",onConfirm:function(t){return C(t,e._id)},onCancel:function(e){return e.stopPropagation()},okText:"Oui",cancelText:"Non",children:Object(p.jsx)(h.a,{danger:!0,shape:"circle",style:{margin:"auto",display:"block"},icon:Object(p.jsx)(v.a,{style:{color:"red"}}),onClick:function(e){return e.stopPropagation()}})})})}}],C=function(){var e=Object(u.a)(l.a.mark((function e(c,a){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.stopPropagation(),e.prev=1,e.next=4,g.delete("/".concat(a));case 4:r=t.filter((function(e){return e._id!==a})),n(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(p.jsxs)(b.a,{justify:"center",children:[t&&Object(p.jsx)(m.a,{columns:k,dataSource:t,pagination:!1,onRow:function(e){return{onClick:function(){!function(e){s(!0),y(e)}(e)}}},style:{width:"50vw"},rowKey:function(e){return e._id},className:"myTable"}),o&&Object(p.jsx)(D,{visible:!0,onCancel:function(e){e.stopPropagation(),s(!1),a(!0)},item:f})]})}),K=n(102),P=n(292),L=n(294),U=d.a.Title,N=function(e){var t=e.visible,n=e.onCreate,c=e.onCancel,a=z.a.useForm(),r=Object(j.a)(a,1)[0];return Object(p.jsx)(C.a,{title:"Ajouter un nouvel item",visible:t,okText:"Cr\xe9er",cancelText:"Annuler",onCancel:c,onOk:function(){r.validateFields().then((function(e){r.resetFields(),n(e)})).catch((function(e){console.log("La validation a \xe9chou\xe9e:",e)}))},children:Object(p.jsxs)(z.a,{form:r,layout:"vertical",name:"basic",children:[Object(p.jsx)(z.a.Item,{label:"Titre",name:"title",rules:[{required:!0,message:"Rentrez le titre du nouvel item"}],children:Object(p.jsx)(F.a,{})}),Object(p.jsx)(z.a.Item,{label:"Description",name:"description",rules:[{required:!0,message:"Rentrez la description de votre item"}],children:Object(p.jsx)(F.a,{})}),Object(p.jsx)(U,{level:3}),Object(p.jsx)(z.a.List,{name:"data",children:function(e,t){var n=t.add,c=t.remove;return Object(p.jsxs)(p.Fragment,{children:[e.map((function(e){return Object(p.jsxs)(P.b,{style:{display:"flex",marginBottom:8},align:"baseline",children:[Object(p.jsx)(z.a.Item,Object(K.a)(Object(K.a)({},e),{},{name:[e.name,"key"],fieldKey:[e.fieldKey,"key"],rules:[{required:!0,message:"Rentrez la cl\xe9 de votre donn\xe9e"}],children:Object(p.jsx)(F.a,{placeholder:"Cl\xe9"})})),Object(p.jsx)(z.a.Item,Object(K.a)(Object(K.a)({},e),{},{name:[e.name,"value"],fieldKey:[e.fieldKey,"value"],rules:[{required:!0,message:"Rentrez la valeur de votre donn\xe9e"}],children:Object(p.jsx)(F.a,{placeholder:"Valeur"})})),Object(p.jsx)(L.a,{onClick:function(){return c(e.name)}})]},e.key)})),Object(p.jsx)(z.a.Item,{children:Object(p.jsx)(h.a,{type:"dashed",onClick:function(){return n()},block:!0,icon:Object(p.jsx)(_.a,{}),children:"Ajouter des donn\xe9es"})})]})}})]})})},V=n(284),H=V.a.Footer,J=function(){var e=Object(c.useState)(!1),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([]),i=Object(j.a)(r,2),o=i[0],s=i[1],d=Object(c.useState)(!1),b=Object(j.a)(d,2),O=b[0],x=b[1],m=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.get("/");case 3:t=e.sent,s(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,g.post("/",{title:t.title,description:t.description,data:t.data});case 3:a(!1),m();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){O&&(m(),x(!1))}),[O]),Object(c.useEffect)((function(){m()}),[]),Object(p.jsx)(p.Fragment,{children:o&&Object(p.jsxs)(V.a,{style:{padding:"8vw 10vw",height:"100vh"},children:[Object(p.jsx)(f,{}),Object(p.jsx)(h.a,{shape:"round",type:"primary",size:"large",onClick:function(){return a(!0)},icon:Object(p.jsx)(_.a,{}),style:{width:"fit-content",margin:"40px auto"},children:"Ajouter un Item"}),Object(p.jsx)(N,{visible:n,onCreate:v,onCancel:function(){a(!1)}}),Object(p.jsx)(E,{items:o,deleteHandler:function(e){return s(e)},itemUpdated:function(e){return x(e)}}),Object(p.jsx)(H,{style:{textAlign:"center",position:"sticky",bottom:"0"},children:"Test Technique Uptoo"})]})})},B=function(){return Object(p.jsx)(i.a,{children:Object(p.jsx)(o.c,{children:Object(p.jsx)(o.a,{exact:!0,path:"/",component:J})})})};r.a.render(Object(p.jsx)(B,{}),document.querySelector("#root"))}},[[281,1,2]]]);
//# sourceMappingURL=main.46e3a226.chunk.js.map